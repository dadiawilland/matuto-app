{"ast":null,"code":"import _regeneratorRuntime from\"/Users/willanddadia/Documents/matuto/matuto-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/willanddadia/Documents/matuto/matuto-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/willanddadia/Documents/matuto/matuto-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import styles from'./Partners.style';import SearchBar from'../../components/Search/SearchBar';import ProfileList from'../../components/ProfileList/ProfileList';import AdminHeader from'../../components/Header/AdminHeader';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Partners=function Partners(){var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),searchResult=_useState2[0],setSearchResult=_useState2[1];var _useState3=useState(new Map()),_useState4=_slicedToArray(_useState3,2),queryParam=_useState4[0],setQueryParam=_useState4[1];useEffect(function(){getAccounts();},[]);function getAccounts(){return _getAccounts.apply(this,arguments);}function _getAccounts(){_getAccounts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return registerAccount();case 2:response=_context.sent;setSearchResult(response);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getAccounts.apply(this,arguments);}var requestOptions=function requestOptions(){return{method:'GET',headers:{'Content-Type':'application/json'}};};function registerAccount(){var resAccount=null;return new Promise(function(resolve){fetch(\"http://localhost:3001/api/account/\"+window.location.search,requestOptions()).then(function(res){return res.json();}).then(function(res){resAccount=res;console.log(resAccount);resolve(resAccount);});});}var handleSetQueryParam=function handleSetQueryParam(e){if(e.queryName.key!==null&&e.value!==null){queryParam.set(e.queryName.key,e.value);}history.push({pathname:'/admin-partners',search:\"?\"+new URLSearchParams(queryParam).toString()});getAccounts();};var handleRemoveQueryParam=function handleRemoveQueryParam(e){queryParam.delete(e);history.push({pathname:'/admin-partners',search:\"?\"+new URLSearchParams(queryParam).toString()});getAccounts();};return/*#__PURE__*/_jsxs(\"div\",{style:styles().containerContent,children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsx(SearchBar,{removeQueryParam:handleRemoveQueryParam,setQueryParam:handleSetQueryParam}),/*#__PURE__*/_jsx(ProfileList,{data:searchResult})]});};export default Partners;","map":{"version":3,"sources":["/Users/willanddadia/Documents/matuto/matuto-app/src/components/Admin/Partners.js"],"names":["React","useState","useEffect","styles","SearchBar","ProfileList","AdminHeader","useHistory","Partners","history","searchResult","setSearchResult","Map","queryParam","setQueryParam","getAccounts","registerAccount","response","requestOptions","method","headers","resAccount","Promise","resolve","fetch","window","location","search","then","res","json","console","log","handleSetQueryParam","e","queryName","key","value","set","push","pathname","URLSearchParams","toString","handleRemoveQueryParam","delete","containerContent"],"mappings":"mYAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mCAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0CAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,qCAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAGA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAEnB,GAAMC,CAAAA,OAAO,CAAGF,UAAU,EAA1B,CACA,cAAwCN,QAAQ,CAAC,EAAD,CAAhD,wCAAOS,YAAP,eAAqBC,eAArB,eACA,eAAoCV,QAAQ,CAAC,GAAIW,CAAAA,GAAJ,EAAD,CAA5C,yCAAOC,UAAP,eAAmBC,aAAnB,eAEAZ,SAAS,CAAC,UAAM,CACZa,WAAW,GACd,CAFQ,CAEN,EAFM,CAAT,CANmB,QAUJA,CAAAA,WAVI,2IAUnB,sKACyBC,CAAAA,eAAe,EADxC,QACQC,QADR,eAEIN,eAAe,CAACM,QAAD,CAAf,CAFJ,sDAVmB,8CAenB,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CACzB,MAAQ,CACJC,MAAM,CAAE,KADJ,CAEJC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFL,CAAR,CAKH,CAND,CAQA,QAASJ,CAAAA,eAAT,EAA2B,CACvB,GAAIK,CAAAA,UAAU,CAAG,IAAjB,CACA,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAAAC,OAAO,CAAI,CAC1BC,KAAK,CAAC,qCAAqCC,MAAM,CAACC,QAAP,CAAgBC,MAAtD,CAA8DT,cAAc,EAA5E,CAAL,CACKU,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAC,GAAG,CAAI,CACTR,UAAU,CAAGQ,GAAb,CACAE,OAAO,CAACC,GAAR,CAAYX,UAAZ,EACAE,OAAO,CAACF,UAAD,CAAP,CACH,CANL,EAOH,CARM,CAAP,CASH,CAED,GAAMY,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,CAAD,CAAO,CAC/B,GAAIA,CAAC,CAACC,SAAF,CAAYC,GAAZ,GAAoB,IAApB,EAA4BF,CAAC,CAACG,KAAF,GAAY,IAA5C,CAAkD,CAC9CxB,UAAU,CAACyB,GAAX,CAAeJ,CAAC,CAACC,SAAF,CAAYC,GAA3B,CAAgCF,CAAC,CAACG,KAAlC,EACH,CAED5B,OAAO,CAAC8B,IAAR,CAAa,CACTC,QAAQ,CAAE,iBADD,CAETb,MAAM,CAAE,IAAM,GAAIc,CAAAA,eAAJ,CAAoB5B,UAApB,EAAgC6B,QAAhC,EAFL,CAAb,EAKA3B,WAAW,GACd,CAXD,CAaA,GAAM4B,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACT,CAAD,CAAO,CAClCrB,UAAU,CAAC+B,MAAX,CAAkBV,CAAlB,EACAzB,OAAO,CAAC8B,IAAR,CAAa,CACTC,QAAQ,CAAE,iBADD,CAETb,MAAM,CAAE,IAAM,GAAIc,CAAAA,eAAJ,CAAoB5B,UAApB,EAAgC6B,QAAhC,EAFL,CAAb,EAKA3B,WAAW,GACd,CARD,CAUA,mBACI,aAAK,KAAK,CAAEZ,MAAM,GAAG0C,gBAArB,wBACI,KAAC,WAAD,IADJ,cAEI,KAAC,SAAD,EAAW,gBAAgB,CAAEF,sBAA7B,CAAqD,aAAa,CAAEV,mBAApE,EAFJ,cAGI,KAAC,WAAD,EAAa,IAAI,CAAEvB,YAAnB,EAHJ,GADJ,CAOH,CAlED,CAoEA,cAAeF,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styles from './Partners.style'\nimport SearchBar from '../../components/Search/SearchBar'\nimport ProfileList from '../../components/ProfileList/ProfileList'\nimport AdminHeader from '../../components/Header/AdminHeader';\nimport { useHistory } from 'react-router-dom';\n\n\nconst Partners = () => {\n\n    const history = useHistory();\n    const [searchResult, setSearchResult] = useState([]);\n    const [queryParam, setQueryParam] = useState(new Map());\n    \n    useEffect(() => {\n        getAccounts()\n    }, [])\n\n    async function getAccounts() {\n        let response = await registerAccount()\n        setSearchResult(response)\n    }\n    \n    const requestOptions = () => {\n        return ({\n            method: 'GET',\n            headers: { 'Content-Type': 'application/json' },\n        })\n\n    }\n\n    function registerAccount() {\n        let resAccount = null;\n        return new Promise(resolve => {\n            fetch(\"http://localhost:3001/api/account/\"+window.location.search, requestOptions())\n                .then(res => res.json())\n                .then(res => {\n                    resAccount = res\n                    console.log(resAccount)\n                    resolve(resAccount)\n                })\n        });\n    }\n\n    const handleSetQueryParam = (e) => {\n        if (e.queryName.key !== null && e.value !== null) {\n            queryParam.set(e.queryName.key, e.value )\n        }\n        \n        history.push({\n            pathname: '/admin-partners',\n            search: \"?\" + new URLSearchParams(queryParam).toString()\n        })\n\n        getAccounts()\n    }\n\n    const handleRemoveQueryParam = (e) => {\n        queryParam.delete(e)\n        history.push({\n            pathname: '/admin-partners',\n            search: \"?\" + new URLSearchParams(queryParam).toString()\n        })\n\n        getAccounts()\n    }\n\n    return (\n        <div style={styles().containerContent}>\n            <AdminHeader />\n            <SearchBar removeQueryParam={handleRemoveQueryParam} setQueryParam={handleSetQueryParam}/>\n            <ProfileList data={searchResult}/>\n        </div>\n    )\n}\n\nexport default Partners"]},"metadata":{},"sourceType":"module"}